AMD kernel module generator version 2.1
.
Active kernel:
uname -a = Linux desktop 5.4.65-1-lts #1 SMP Sun, 13 Sep 2020 21:56:58 +0000 x86_64 GNU/Linux
uname -s = Linux
uname -m = x86_64
uname -r = 5.4.65-1-lts
uname -v = #1 SMP Sun, 13 Sep 2020 21:56:58 +0000
.
Target kernel:
uname -a = Linux desktop 5.4.65-1-lts #1 SMP Sun, 13 Sep 2020 21:56:58 +0000 x86_64 GNU/Linux
uname -s = Linux
uname -m = x86_64
uname -r = 5.4.65-1-lts
uname -v = #1 SMP Sun, 13 Sep 2020 21:56:58 +0000
.
file /proc/kallsyms says: SMP=1
file /lib/modules/5.4.65-1-lts/build/include/generated/autoconf.h says: SMP=1
file /lib/modules/5.4.65-1-lts/build/include/generated/autoconf.h says: MODVERSIONS=
file /lib/modules/5.4.65-1-lts/build/arch/x86/include/asm/compat.h says: COMPAT_ALLOC_USER_SPACE=arch_compat_alloc_user_space
.
doing Makefile based build for kernel 2.6.x and higher
make -C /lib/modules/5.4.65-1-lts/build M=/home/leandromqrs/Documentos/AMD_PATCH/fglrx-install.rgX6Cj/common/lib/modules/fglrx/build_mod/2.6.x
make[1]: Entrando no diretório '/usr/lib/modules/5.4.65-1-lts/build'

  AR      /home/leandromqrs/Documentos/AMD_PATCH/fglrx-install.rgX6Cj/common/lib/modules/fglrx/build_mod/2.6.x/built-in.a
  CC [M]  /home/leandromqrs/Documentos/AMD_PATCH/fglrx-install.rgX6Cj/common/lib/modules/fglrx/build_mod/2.6.x/firegl_public.o
In file included from /home/leandromqrs/Documentos/AMD_PATCH/fglrx-install.rgX6Cj/common/lib/modules/fglrx/build_mod/2.6.x/drm_proc.h:41,
                 from /home/leandromqrs/Documentos/AMD_PATCH/fglrx-install.rgX6Cj/common/lib/modules/fglrx/build_mod/2.6.x/firegl_public.c:523:
/home/leandromqrs/Documentos/AMD_PATCH/fglrx-install.rgX6Cj/common/lib/modules/fglrx/build_mod/2.6.x/drm_proc.h: In function ‘FGLDRM__bufs_info’:
/home/leandromqrs/Documentos/AMD_PATCH/fglrx-install.rgX6Cj/common/lib/modules/fglrx/build_mod/2.6.x/drmP.h:221:4: warning: macro expands to multiple statements [-Wmultistatement-macros]
  221 |    len += sprintf(&buf[len], fmt , ##arg);    \
      |    ^~~
/home/leandromqrs/Documentos/AMD_PATCH/fglrx-install.rgX6Cj/common/lib/modules/fglrx/build_mod/2.6.x/drm_proc.h:391:4: note: in expansion of macro ‘DRM_PROC_PRINT’
  391 |    DRM_PROC_PRINT("%2d %8d %5d %5d %5d %5d %5ld\n",
      |    ^~~~~~~~~~~~~~
In file included from /home/leandromqrs/Documentos/AMD_PATCH/fglrx-install.rgX6Cj/common/lib/modules/fglrx/build_mod/2.6.x/firegl_public.c:523:
/home/leandromqrs/Documentos/AMD_PATCH/fglrx-install.rgX6Cj/common/lib/modules/fglrx/build_mod/2.6.x/drm_proc.h:390:3: note: some parts of macro expansion are not guarded by this ‘if’ clause
  390 |   if (dma->bufs[i].buf_count)
      |   ^~
In file included from /home/leandromqrs/Documentos/AMD_PATCH/fglrx-install.rgX6Cj/common/lib/modules/fglrx/build_mod/2.6.x/drm_proc.h:41,
                 from /home/leandromqrs/Documentos/AMD_PATCH/fglrx-install.rgX6Cj/common/lib/modules/fglrx/build_mod/2.6.x/firegl_public.c:523:
/home/leandromqrs/Documentos/AMD_PATCH/fglrx-install.rgX6Cj/common/lib/modules/fglrx/build_mod/2.6.x/drmP.h:221:4: warning: macro expands to multiple statements [-Wmultistatement-macros]
  221 |    len += sprintf(&buf[len], fmt , ##arg);    \
      |    ^~~
/home/leandromqrs/Documentos/AMD_PATCH/fglrx-install.rgX6Cj/common/lib/modules/fglrx/build_mod/2.6.x/drm_proc.h:406:21: note: in expansion of macro ‘DRM_PROC_PRINT’
  406 |   if (i && !(i%32)) DRM_PROC_PRINT("\n");
      |                     ^~~~~~~~~~~~~~
In file included from /home/leandromqrs/Documentos/AMD_PATCH/fglrx-install.rgX6Cj/common/lib/modules/fglrx/build_mod/2.6.x/firegl_public.c:523:
/home/leandromqrs/Documentos/AMD_PATCH/fglrx-install.rgX6Cj/common/lib/modules/fglrx/build_mod/2.6.x/drm_proc.h:406:3: note: some parts of macro expansion are not guarded by this ‘if’ clause
  406 |   if (i && !(i%32)) DRM_PROC_PRINT("\n");
      |   ^~
At top level:
/home/leandromqrs/Documentos/AMD_PATCH/fglrx-install.rgX6Cj/common/lib/modules/fglrx/build_mod/2.6.x/firegl_public.c:6672:12: warning: ‘KCL_fpu_save_init’ defined but not used [-Wunused-function]
 6672 | static int KCL_fpu_save_init(struct task_struct *tsk)
      |            ^~~~~~~~~~~~~~~~~
  CC [M]  /home/leandromqrs/Documentos/AMD_PATCH/fglrx-install.rgX6Cj/common/lib/modules/fglrx/build_mod/2.6.x/kcl_acpi.o
/home/leandromqrs/Documentos/AMD_PATCH/fglrx-install.rgX6Cj/common/lib/modules/fglrx/build_mod/2.6.x/kcl_acpi.c:842:20: warning: ‘KCL_ACPI_Slot_No_Hotplug’ defined but not used [-Wunused-function]
  842 | static acpi_status KCL_ACPI_Slot_No_Hotplug(KCL_ACPI_DevHandle handle, u32 lvl, void *data, void **rv)
      |                    ^~~~~~~~~~~~~~~~~~~~~~~~
/home/leandromqrs/Documentos/AMD_PATCH/fglrx-install.rgX6Cj/common/lib/modules/fglrx/build_mod/2.6.x/kcl_acpi.c: In function ‘KCL_ACPI_GetVfctBios’:
/home/leandromqrs/Documentos/AMD_PATCH/fglrx-install.rgX6Cj/common/lib/modules/fglrx/build_mod/2.6.x/kcl_acpi.c:363:19: warning: ‘hdr’ is used uninitialized in this function [-Wuninitialized]
  363 |     tbl_size = hdr->length;
      |                   ^~
  CC [M]  /home/leandromqrs/Documentos/AMD_PATCH/fglrx-install.rgX6Cj/common/lib/modules/fglrx/build_mod/2.6.x/kcl_agp.o
  CC [M]  /home/leandromqrs/Documentos/AMD_PATCH/fglrx-install.rgX6Cj/common/lib/modules/fglrx/build_mod/2.6.x/kcl_debug.o
  CC [M]  /home/leandromqrs/Documentos/AMD_PATCH/fglrx-install.rgX6Cj/common/lib/modules/fglrx/build_mod/2.6.x/kcl_ioctl.o
  CC [M]  /home/leandromqrs/Documentos/AMD_PATCH/fglrx-install.rgX6Cj/common/lib/modules/fglrx/build_mod/2.6.x/kcl_io.o
  CC [M]  /home/leandromqrs/Documentos/AMD_PATCH/fglrx-install.rgX6Cj/common/lib/modules/fglrx/build_mod/2.6.x/kcl_pci.o
  CC [M]  /home/leandromqrs/Documentos/AMD_PATCH/fglrx-install.rgX6Cj/common/lib/modules/fglrx/build_mod/2.6.x/kcl_str.o
  CC [M]  /home/leandromqrs/Documentos/AMD_PATCH/fglrx-install.rgX6Cj/common/lib/modules/fglrx/build_mod/2.6.x/kcl_iommu.o
  CC [M]  /home/leandromqrs/Documentos/AMD_PATCH/fglrx-install.rgX6Cj/common/lib/modules/fglrx/build_mod/2.6.x/kcl.o
  CC [M]  /home/leandromqrs/Documentos/AMD_PATCH/fglrx-install.rgX6Cj/common/lib/modules/fglrx/build_mod/2.6.x/kcl_wait.o
make[2]: *** Sem regra para processar o alvo '/home/leandromqrs/Documentos/AMD_PATCH/fglrx-install.rgX6Cj/common/lib/modules/fglrx/build_mod/2.6.x/libfglrx_ip.a', necessário por '/home/leandromqrs/Documentos/AMD_PATCH/fglrx-install.rgX6Cj/common/lib/modules/fglrx/build_mod/2.6.x/fglrx.o' .  Pare.
make[1]: *** [Makefile:1729: /home/leandromqrs/Documentos/AMD_PATCH/fglrx-install.rgX6Cj/common/lib/modules/fglrx/build_mod/2.6.x] Erro 2
make[1]: Saindo do diretório '/usr/lib/modules/5.4.65-1-lts/build'

make: *** [Makefile:88: kmod_build] Erro 2
build failed with return value 2
